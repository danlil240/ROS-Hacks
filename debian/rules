#!/usr/bin/make -f
%:
	dh $@

override_dh_install:
	# Core files
	mkdir -p debian/ros-hacks/usr/share/ros-hacks
	cp -r *.sh *.yaml ROS-Hacks.zsh zsh-keybindings.zsh inputrc VERSION README.md debian/ros-hacks/usr/share/ros-hacks/
	# Auxiliary directories used by helpers
	cp -r scripts debian/ros-hacks/usr/share/ros-hacks/
	cp -r lib debian/ros-hacks/usr/share/ros-hacks/
	cp -r completions debian/ros-hacks/usr/share/ros-hacks/
	# Ensure scripts are executable
	chmod 0755 debian/ros-hacks/usr/share/ros-hacks/*.sh || true
	chmod 0755 debian/ros-hacks/usr/share/ros-hacks/scripts/*.sh || true
	# Binaries/symlinks
	mkdir -p debian/ros-hacks/usr/bin
	ln -sf /usr/share/ros-hacks/setup.sh debian/ros-hacks/usr/bin/ros-hacks-setup
	ln -sf /usr/share/ros-hacks/scripts/run-in-ros.sh debian/ros-hacks/usr/bin/run-in-ros
